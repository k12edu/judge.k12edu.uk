(function(){"use strict";var e={7875:function(e,t,n){var o=n(5130),s=n(6768);const a={class:"v-container"},i={class:"menu-container",style:{height:"70px"}},r={class:"menu"};function c(e,t,n,o,c,l){const d=(0,s.g2)("router-link"),u=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.Lk)("div",i,[(0,s.bF)(d,{style:{width:"120px"},to:"/",class:"menu-item"},{default:(0,s.k6)((()=>t[1]||(t[1]=[(0,s.eW)("OnlineJudge")]))),_:1}),(0,s.Lk)("nav",r,[(0,s.bF)(d,{to:"/announcement",class:"menu-item"},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.eW)("公告")]))),_:1}),(0,s.bF)(d,{to:"/problem_list",class:"menu-item"},{default:(0,s.k6)((()=>t[3]||(t[3]=[(0,s.eW)("題目")]))),_:1}),(0,s.bF)(d,{to:"/forum",class:"menu-item"},{default:(0,s.k6)((()=>t[4]||(t[4]=[(0,s.eW)("討論區")]))),_:1}),(0,s.bF)(d,{to:"/rank",class:"menu-item"},{default:(0,s.k6)((()=>t[5]||(t[5]=[(0,s.eW)("排行榜")]))),_:1})]),c.isLogin?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:0,style:{width:"150px"},id:"google-signin-button",onClick:t[0]||(t[0]=(...t)=>e.googleLogin&&e.googleLogin(...t))})),c.isLogin?((0,s.uX)(),(0,s.Wv)(d,{key:1,style:{width:"150px"},to:"/profile",class:"menu-item"},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.eW)("個人資料")]))),_:1})):(0,s.Q3)("",!0)]),(0,s.bF)(u),t[7]||(t[7]=(0,s.Lk)("footer",{class:"footer"},[(0,s.Lk)("div",{class:"footer-container"},[(0,s.Lk)("div",null,[(0,s.Lk)("p",null,"© 2025 Your Company. All Rights Reserved.")])])],-1))])}n(4979);var l={data(){return{isLogin:!1,googleClientId:"63473080805-na5r3r5d4m3ibnk1f7kvjgp7n1grnaoe.apps.googleusercontent.com",access_token:"",api_url:"",r_url:""}},provide(){return{isLogIn:(0,s.EW)((()=>this.isLogIn)),access_token:(0,s.EW)((()=>this.access_token)),api_url:(0,s.EW)((()=>this.api_url))}},mounted(){const e=window.location.hostname;console.log(e),"localhost"==e?(this.api_url="http://127.0.0.1:60000",this.r_url="http://localhost:8080/",console.log("test1")):(this.api_url="https://api.k12edu.us.kg",this.r_url="https://teacher.k12edu.us.kg/",console.log("test2")),this.loadGoogleScript(),this.access_token=localStorage.getItem("jwt"),0==this.checkAndRefreshToken()?this.isLogin=!1:this.isLogin=!0},methods:{async checkAndRefreshToken(){let e=localStorage.getItem("jwt"),t=localStorage.getItem("refres");return e?this.isTokenExpired(e)?(console.log("Access token 過期，嘗試使用 refresh token 取得新 token..."),await this.refreshAccessToken(t)):(console.log("Access token 仍有效"),!0):(console.log("沒有 accessToken，請重新登入"),!1)},isTokenExpired(e){try{const t=JSON.parse(atob(e.split(".")[1]));return 1e3*t.exp<Date.now()}catch(t){return!0}},async refreshAccessToken(e){try{const t=await fetch(`${this.api_url}/api/token/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:e})});if(!t.ok)throw new Error("Refresh token 無效");const n=await t.json();return localStorage.setItem("jwt",n.access),console.log("成功刷新 accessToken"),!0}catch(t){return console.log("Refresh token 失敗，請重新登入",t),localStorage.removeItem("jwt"),localStorage.removeItem("refresh"),!1}},loadGoogleScript(){const e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=this.initializeGoogleSignIn,document.head.appendChild(e)},initializeGoogleSignIn(){"undefined"!==typeof window.google?(window.google.accounts.id.initialize({client_id:this.googleClientId,scope:"openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",callback:this.handleCredentialResponse}),window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large"})):console.error("Google API 未正確加載")},handleCredentialResponse(e){console.log("Google Sign-In Credential Response:",e);const t=e.credential;this.sendIdTokenToBackend(t)},sendIdTokenToBackend(e){fetch(`${this.api_url}/accounts/api/google-login2/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_token:e})}).then((e=>e.json())).then((e=>{e.access?(this.access_token=e.access,this.isLogin=!0,localStorage.setItem("jwt",e.access),localStorage.setItem("refresh",e.refresh),console.log("JWT token received and stored:",e)):console.error("JWT not received:",e)})).catch((e=>console.error("Error sending id_token to backend:",e)))}}},d=n(1241);const u=(0,d.A)(l,[["render",c],["__scopeId","data-v-0c472203"]]);var h=u,p=n(1387),g=n(4232);const m={class:"main-content",style:{"min-height":"100vh"}},k={class:"announcement-section"},f={key:0,class:"announcement-list"},v={key:1,class:"no-announcements"};function _(e,t,n,o,a,i){return(0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("div",k,[t[1]||(t[1]=(0,s.Lk)("h2",null,"最新公告",-1)),a.announcements.length?((0,s.uX)(),(0,s.CE)("div",f,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.announcements,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"announcement-card"},[(0,s.Lk)("h3",null,(0,g.v_)(e.title),1),(0,s.Lk)("p",null,(0,g.v_)(e.announcement_description),1)])))),128))])):((0,s.uX)(),(0,s.CE)("div",v,t[0]||(t[0]=[(0,s.Lk)("p",null,"目前沒有公告",-1)])))]),t[2]||(t[2]=(0,s.Fv)('<div class="site-intro-section" data-v-921b7462><h3 data-v-921b7462>關於網站</h3><p data-v-921b7462> 歡迎來到Online Judge! 此網站提供使用者進行程式題目練習，立即開始您的題目練習並累積經驗! </p><div class="features" data-v-921b7462><div class="feature" data-v-921b7462><h4 data-v-921b7462>程式語言</h4><p data-v-921b7462>支援Python、Java、C、C++四種語言。</p></div><div class="feature" data-v-921b7462><h4 data-v-921b7462>學習範圍</h4><p data-v-921b7462>題目範圍包括基礎程式功能、資料結構與演算法。</p></div><div class="feature" data-v-921b7462><h4 data-v-921b7462>&quot;遊戲名稱&quot;</h4><p data-v-921b7462>結合遊戲提高學習動力。</p></div></div></div>',1))])}n(4603),n(7566),n(8721);var y={name:"MainBody",components:{},data(){return{bodyTitle:"Home Page",announcements:[]}},props:{},inject:["api_url","access_token"],methods:{async fetchAnnouncements(){try{const e={page:1,per_page:3},t=new URLSearchParams(e),n=await fetch(`${this.api_url}/onlinejudge/api/announcement/list?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.access_token}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const o=await n.json();this.announcements=o.announcements}catch(e){console.error("取得公告時發生錯誤：",e)}}},mounted(){this.fetchAnnouncements()}};const b=(0,d.A)(y,[["render",_],["__scopeId","data-v-921b7462"]]);var L=b;const C={class:"announcement-page"},w={key:0,class:"announcement-list"},E={key:1,class:"no-announcements"},P={class:"pagination"},T=["onClick"];function X(e,t,n,o,a,i){return(0,s.uX)(),(0,s.CE)("div",C,[t[1]||(t[1]=(0,s.Lk)("h1",null,"公告",-1)),a.announcements.length?((0,s.uX)(),(0,s.CE)("div",w,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.announcements,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"announcement-card"},[(0,s.Lk)("h3",null,(0,g.v_)(e.title),1),(0,s.Lk)("p",null,(0,g.v_)(e.announcement_description),1)])))),128))])):((0,s.uX)(),(0,s.CE)("div",E,t[0]||(t[0]=[(0,s.Lk)("p",null,"目前沒有公告",-1)]))),(0,s.Lk)("div",P,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.totalPages,(e=>((0,s.uX)(),(0,s.CE)("button",{onClick:t=>i.changePage(e),class:(0,g.C4)({active:a.currentPage===e}),key:e},(0,g.v_)(e),11,T)))),128))])])}var j={data(){return{announcements:[],currentPage:1,pageSize:5,total_page:0}},computed:{totalPages(){return this.total_page}},inject:["api_url","access_token"],methods:{async fetchAnnouncements(){try{const e={page:this.currentPage,per_page:this.pageSize},t=new URLSearchParams(e),n=await fetch(`${this.api_url}/onlinejudge/api/announcement/list?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.access_token}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const o=await n.json();0==this.total_page&&(this.total_page=o.total_page),this.announcements=o.announcements}catch(e){console.error("取得公告時發生錯誤：",e)}},changePage(e){this.currentPage=e,this.fetchAnnouncements()}},mounted(){this.total_page=0,this.fetchAnnouncements()}};const I=(0,d.A)(j,[["render",X],["__scopeId","data-v-0868360e"]]);var S=I;const x={class:"problem-list-container",style:{"min-height":"100vh"}},A={class:"tag-filter"},$={class:"tags"},O=["value"],z={class:"tag-text"},F={key:0,class:"loading"},R={key:1};function D(e,t,n,a,i,r){return(0,s.uX)(),(0,s.CE)("div",x,[t[3]||(t[3]=(0,s.Lk)("h1",null,"題目列表",-1)),(0,s.Lk)("div",A,[t[1]||(t[1]=(0,s.Lk)("label",{for:"tags"},"選擇標籤:",-1)),(0,s.Lk)("div",$,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.tags,(e=>((0,s.uX)(),(0,s.CE)("label",{key:e,class:"tag-option"},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",value:e,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedTags=e),class:"checkbox-input"},null,8,O),[[o.lH,i.selectedTags]]),(0,s.Lk)("span",z,(0,g.v_)(e),1)])))),128))])]),i.loading?((0,s.uX)(),(0,s.CE)("div",F,"載入中...")):((0,s.uX)(),(0,s.CE)("div",R,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.filteredProblems,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"problem-item"},[(0,s.Lk)("h3",null,(0,g.v_)(e.title),1),(0,s.Lk)("p",null,(0,g.v_)(e.description),1),(0,s.Lk)("p",null,[t[2]||(t[2]=(0,s.Lk)("strong",null,"標籤:",-1)),(0,s.eW)(" "+(0,g.v_)(e.tags.join(", ")),1)])])))),128))]))])}n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(8992),n(4520),n(670),n(7550);var H={data(){return{problems:[],tags:["圖論","動態規劃"],selectedTags:[],loading:!1}},computed:{filteredProblems(){return 0===this.selectedTags.length?this.problems:this.problems.filter((e=>e.tags.some((e=>this.selectedTags.includes(e)))))}},methods:{async fetchProblems(){this.loading=!0;try{const e=await fetch("https://your-api.com/problems"),t=await e.json();this.problems=t.problems,this.tags=[...new Set(this.problems.flatMap((e=>e.tags)))]}catch(e){console.error("獲取題目資料錯誤:",e)}finally{this.loading=!1}}},created(){this.fetchProblems()}};const W=(0,d.A)(H,[["render",D],["__scopeId","data-v-7192d66d"]]);var J=W;const M={class:"message-board",style:{"min-height":"100vh"}},G={key:0,class:"loading"},K={key:1},B={class:"message-container"},U={class:"pagination"},N=["disabled"],Q=["disabled"];function q(e,t,n,o,a,i){return(0,s.uX)(),(0,s.CE)("div",M,[a.loading?((0,s.uX)(),(0,s.CE)("div",G,t[2]||(t[2]=[(0,s.Lk)("p",null,"載入中...",-1)]))):((0,s.uX)(),(0,s.CE)("div",K,[t[3]||(t[3]=(0,s.Lk)("h2",null,"討論區",-1)),(0,s.Lk)("div",B,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.messages,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"message-item"},[(0,s.Lk)("h3",null,(0,g.v_)(e.title),1),(0,s.Lk)("p",null,(0,g.v_)(e.content),1)])))),128))]),(0,s.Lk)("div",U,[(0,s.Lk)("button",{disabled:1===a.currentPage,onClick:t[0]||(t[0]=e=>i.changePage(a.currentPage-1))},"上一頁",8,N),(0,s.Lk)("span",null,(0,g.v_)(a.currentPage)+" / "+(0,g.v_)(a.totalPages),1),(0,s.Lk)("button",{disabled:a.currentPage===a.totalPages,onClick:t[1]||(t[1]=e=>i.changePage(a.currentPage+1))},"下一頁",8,Q)])]))])}var V={data(){return{messages:[],currentPage:1,totalPages:1,loading:!0}},methods:{changePage(e){this.currentPage=e,this.fetchMessages()},async fetchMessages(){try{const e=await fetch(`https://api.example.com/messages?page=${this.currentPage}`),t=await e.json();this.messages=t.messages,this.totalPages=t.totalPages}catch(e){console.error("Error fetching messages:",e)}finally{this.loading=!1}}},created(){this.fetchMessages()}};const Y=(0,d.A)(V,[["render",q],["__scopeId","data-v-3204156a"]]);var Z=Y;const ee={class:"rank-board-page",style:{"min-height":"100vh"}},te={key:0},ne={class:"rank-grid"},oe={class:"rank_data"},se={class:"rank_data"},ae={class:"rank_data"},ie={key:1},re={class:"pagination"},ce=["onClick"];function le(e,t,n,o,a,i){return(0,s.uX)(),(0,s.CE)("div",ee,[t[2]||(t[2]=(0,s.Lk)("h1",null,"排行榜",-1)),a.rankings.length?((0,s.uX)(),(0,s.CE)("div",te,[(0,s.Lk)("div",ne,[t[0]||(t[0]=(0,s.Lk)("div",{class:"rank-grid-header"},[(0,s.Lk)("p",null,"排名"),(0,s.Lk)("p",null,"用戶名稱"),(0,s.Lk)("p",null,"解題數量")],-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.rankings,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"rank-grid-item",key:e.id},[(0,s.Lk)("p",oe,(0,g.v_)(e.rank),1),(0,s.Lk)("p",se,(0,g.v_)(e.user_name),1),(0,s.Lk)("p",ae,(0,g.v_)(e.num_of_solved_program_problem),1)])))),128))])])):((0,s.uX)(),(0,s.CE)("div",ie,t[1]||(t[1]=[(0,s.Lk)("p",null,"目前沒有排名資料。",-1)]))),(0,s.Lk)("div",re,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.totalPages,(e=>((0,s.uX)(),(0,s.CE)("button",{onClick:t=>i.changePage(e),class:(0,g.C4)({active:a.currentPage===e}),key:e},(0,g.v_)(e),11,ce)))),128))])])}var de={data(){return{rankings:[],currentPage:1,pageSize:5,total_pages:0,self_data:{}}},computed:{totalPages(){return this.total_pages}},inject:["api_url","access_token"],methods:{async fetchRankings(){try{const e={suject:"program",page:this.currentPage,num:10},t=new URLSearchParams(e),n=await fetch(`${this.api_url}/onlinejudge/api/rank?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.access_token}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const o=await n.json();0==this.total_pages&&(this.total_pages=o.total_pages),this.self_data=o.self_data,this.rankings=o.data}catch(e){console.error("取得排行榜時發生錯誤：",e)}},changePage(e){this.currentPage=e,this.fetchRankings()}},mounted(){this.total_pages=0,this.fetchRankings()}};const ue=(0,d.A)(de,[["render",le],["__scopeId","data-v-78be43e4"]]);var he=ue;const pe={class:"profile-container",style:{"min-height":"100vh"}},ge={key:0},me={key:1,class:"error-message"},ke={key:2},fe={class:"profile-field"},ve={class:"profile-field"},_e={class:"profile-field"},ye={class:"profile-field"};function be(e,t,n,o,a,i){return(0,s.uX)(),(0,s.CE)("div",pe,[t[4]||(t[4]=(0,s.Lk)("h1",null,"個人檔案",-1)),a.loading?((0,s.uX)(),(0,s.CE)("div",ge,"載入中...")):a.error?((0,s.uX)(),(0,s.CE)("div",me,(0,g.v_)(a.error),1)):((0,s.uX)(),(0,s.CE)("div",ke,[(0,s.Lk)("div",fe,[t[0]||(t[0]=(0,s.Lk)("label",{for:"field1"},"欄位1：",-1)),(0,s.Lk)("span",null,(0,g.v_)(a.profileData.field1),1)]),(0,s.Lk)("div",ve,[t[1]||(t[1]=(0,s.Lk)("label",{for:"field2"},"欄位2：",-1)),(0,s.Lk)("span",null,(0,g.v_)(a.profileData.field2),1)]),(0,s.Lk)("div",_e,[t[2]||(t[2]=(0,s.Lk)("label",{for:"field3"},"欄位3：",-1)),(0,s.Lk)("span",null,(0,g.v_)(a.profileData.field3),1)]),(0,s.Lk)("div",ye,[t[3]||(t[3]=(0,s.Lk)("label",{for:"field4"},"欄位4：",-1)),(0,s.Lk)("span",null,(0,g.v_)(a.profileData.field4),1)])]))])}var Le={name:"UserProfile",data(){return{profileData:{},loading:!0,error:null}},methods:{async fetchProfileData(){const e="https://your-backend-url.com/api/user-profile";try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP 錯誤：${t.status}`);const n=await t.json();this.profileData=n}catch(t){this.error="無法取得個人資料，請稍後再試",console.error(t)}finally{this.loading=!1}}},mounted(){this.fetchProfileData()}};const Ce=(0,d.A)(Le,[["render",be],["__scopeId","data-v-1a3ab15c"]]);var we=Ce;const Ee={id:"main-body"};function Pe(e,t,n,o,a,i){return(0,s.uX)(),(0,s.CE)("div",Ee)}var Te={name:"LoginPage",components:{},data(){return{bodyTitle:"Home Page"}},props:{}};const Xe=(0,d.A)(Te,[["render",Pe],["__scopeId","data-v-d2f63eb6"]]);var je=Xe;const Ie={class:"v-container",style:{"min-height":"100vh",width:"60%",gap:"20px"}},Se={class:"problem-description"},xe={key:0},Ae={key:1,class:"error-message"},$e=["innerHTML"],Oe={ref:"editorContainer",class:"codemirror-container"};function ze(e,t,n,a,i,r){return(0,s.uX)(),(0,s.CE)("div",Ie,[(0,s.Lk)("div",Se,[t[3]||(t[3]=(0,s.Lk)("h2",null,"題目敘述",-1)),i.loading?((0,s.uX)(),(0,s.CE)("div",xe,"載入中...")):i.error?((0,s.uX)(),(0,s.CE)("div",Ae,(0,g.v_)(i.error),1)):((0,s.uX)(),(0,s.CE)("div",{key:2,class:"description-content",innerHTML:i.description},null,8,$e))]),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.submitCode&&r.submitCode(...e)),class:"btn"},"提交"),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.language=e),onChange:t[2]||(t[2]=(...e)=>r.changeLanguage&&r.changeLanguage(...e))},t[4]||(t[4]=[(0,s.Lk)("option",{value:"java"},"Java",-1),(0,s.Lk)("option",{value:"python"},"Python",-1),(0,s.Lk)("option",{value:"c"},"C",-1),(0,s.Lk)("option",{value:"cpp"},"C++",-1)]),544),[[o.u1,i.language]]),(0,s.Lk)("div",Oe,null,512)])}n(4114);var Fe=n(8814),Re=n(4200),De=n(8954),He=n(5033),We=n(8530),Je=n(866),Me={name:"CodeEditor",data(){return{description:"",loading:!0,error:null,editor:null,language:"python",codeContent:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"}},props:{problemId:{type:String,required:!0}},methods:{async fetchDescription(){const e=`https://example.com/api/problems/${this.problemId}`;try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP 錯誤：${t.status}`);const n=await t.json();this.description=n.description||"無法取得題目內容"}catch(t){this.error="無法取得題目敘述，請稍後再試",console.error(t)}finally{this.loading=!1}},initializeEditor(){const e=Fe.Lz.theme({"&":{textAlign:"left"}}),t=Fe.Lz.theme({"&":{border:"1px solid #ccc",borderRadius:"4px",padding:"4px"}}),n=Fe.Lz.theme({"&.cm-editor.cm-focused":{outline:"none"},".cm-selectionMatch":{outline:"none"}}),o={doc:this.codeContent,extensions:[Re.oQ,(0,We.Hg)(),e,t,n]},s=De.$t.create({doc:o.doc,extensions:o.extensions});this.editor=new Fe.Lz({state:s,parent:this.$refs.editorContainer})},changeLanguage(){if(this.editor){this.editor.destroy(),this.editor=null;const e=Fe.Lz.theme({"&":{textAlign:"left"}}),t=Fe.Lz.theme({"&":{border:"1px solid #ccc",borderRadius:"4px",padding:"4px"}}),n=Fe.Lz.theme({"&.cm-editor.cm-focused":{outline:"none"},".cm-selectionMatch":{outline:"none"}}),o=[Re.oQ,(0,We.Hg)(),e,t,n];"java"===this.language?o.push((0,He.J)()):"python"===this.language?o.push((0,We.Hg)()):"c"!==this.language&&"cpp"!==this.language||o.push((0,Je.I)());const s={doc:this.codeContent,extensions:o},a=De.$t.create({doc:s.doc,extensions:s.extensions});this.editor=new Fe.Lz({state:a,parent:this.$refs.editorContainer})}},async submitCode(){const e=this.editor.state.doc.toString();console.log(e);const t="https://your-backend-url.com/api/submit-code";try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!n.ok)throw new Error(`HTTP 錯誤：${n.status}`);const o=await n.json();console.log("提交成功",o)}catch(n){console.error("提交代碼時發生錯誤:",n)}}},mounted(){this.fetchDescription(),this.initializeEditor()}};const Ge=(0,d.A)(Me,[["render",ze],["__scopeId","data-v-7828dd8d"]]);var Ke=Ge;const Be={class:"discussion-container",style:{"min-height":"100vh"}},Ue={key:0,class:"loading"},Ne={key:1},Qe={key:0,class:"comments-section"},qe={class:"comment-time"},Ve={key:1,class:"no-comments"},Ye={class:"comment-input-section"},Ze=["disabled"];function et(e,t,n,a,i,r){return(0,s.uX)(),(0,s.CE)("div",Be,[(0,s.Lk)("h1",null,(0,g.v_)(i.topicTitle),1),i.loading?((0,s.uX)(),(0,s.CE)("div",Ue,"載入中...")):((0,s.uX)(),(0,s.CE)("div",Ne,[i.comments.length>0?((0,s.uX)(),(0,s.CE)("div",Qe,[t[2]||(t[2]=(0,s.Lk)("h2",null,"留言區",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.comments,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"comment-item"},[(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,(0,g.v_)(e.author)+":",1),(0,s.eW)(" "+(0,g.v_)(e.content),1)]),(0,s.Lk)("p",qe,(0,g.v_)(r.formatDate(e.timestamp)),1)])))),128))])):((0,s.uX)(),(0,s.CE)("div",Ve,"目前還沒有留言，快來留下第一則吧！"))])),(0,s.Lk)("div",Ye,[t[3]||(t[3]=(0,s.Lk)("h2",null,"新增留言",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.newComment=e),placeholder:"輸入您的留言...",rows:"4",class:"comment-input"},null,512),[[o.Jo,i.newComment]]),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.postComment&&r.postComment(...e)),disabled:i.posting,class:"comment-button"},(0,g.v_)(i.posting?"發送中...":"發送留言"),9,Ze)])])}var tt={data(){return{topicTitle:"討論主題",comments:[],newComment:"",loading:!1,posting:!1}},methods:{async fetchComments(){this.loading=!0;try{const e=await fetch("https://your-api.com/discussion/comments"),t=await e.json();this.comments=t.comments}catch(e){console.error("獲取留言失敗：",e)}finally{this.loading=!1}},async postComment(){if(this.newComment.trim()){this.posting=!0;try{const e=await fetch("https://your-api.com/discussion/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:this.newComment})});if(e.ok){const t=await e.json();this.comments.push(t),this.newComment=""}else console.error("留言發送失敗：",e.statusText)}catch(e){console.error("發送留言時發生錯誤：",e)}finally{this.posting=!1}}else alert("留言內容不能為空！")},formatDate(e){const t=new Date(e);return t.toLocaleString()}},created(){this.fetchComments()}};const nt=(0,d.A)(tt,[["render",et],["__scopeId","data-v-450340d8"]]);var ot=nt;const st=[{path:"/",name:"home",component:L},{path:"/announcement",name:"announcement",component:S},{path:"/problem_list",name:"problem_list",component:J},{path:"/problem",name:"problem_page",component:Ke},{path:"/forum",name:"forum",component:Z},{path:"/forum/disscussion",name:"disscussion",component:ot},{path:"/rank",name:"rank",component:he},{path:"/profile",name:"profile",component:we},{path:"/login",name:"login",component:je}],at=(0,p.aE)({history:(0,p.LA)(),routes:st});var it=at;(0,o.Ef)(h).use(it).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,a){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],a=e[d][2];for(var r=!0,c=0;c<o.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(r=!1,a<i&&(i=a));if(r){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,a,i=o[0],r=o[1],c=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(c)var d=c(n)}for(t&&t(o);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=self["webpackChunkonline_judge_web"]=self["webpackChunkonline_judge_web"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(7875)}));o=n.O(o)})();
//# sourceMappingURL=app.6891c567.js.map